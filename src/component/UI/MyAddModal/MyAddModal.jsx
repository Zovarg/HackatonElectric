import React, {useState} from 'react';
import cl from './MyAddModal.module.css'
import close from '../../../images/closeModal.svg'

const MyAddModal = ({children, visible, setVisible, info,description}) => {

    const [loading, setLoading]=useState(1)
    const rootClass=[cl.myModal]

    if (visible){
        rootClass.push(cl.active)
    }

    return (
        <div className={rootClass.join(' ')} onClick={()=>setVisible(false)}>
            <div className={cl.myModalContent} onClick={event => event.stopPropagation()}>
                <div className={cl.title}>
                    <div>Загрузка {info}</div>
                    <div className={cl.titleDescr}>{description}</div>

                    {
                        loading===1
                            ?
                            <>
                                <div className={cl.notLoad} onClick={()=>{setLoading(2)}}>
                                    <svg width="282" height="139" viewBox="0 0 282 139" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="1.5" y="1.5" width="279" height="136" rx="28.5" fill="white" stroke="#97C15B" stroke-width="3" stroke-dasharray="35 35"/>
                                        <path d="M167.42 53.104C164.913 47.3955 160.585 42.659 155.101 39.6204C149.616 36.5818 143.278 35.4086 137.056 36.2806C130.834 37.1527 125.072 40.0218 120.654 44.4484C116.235 48.875 113.403 54.6149 112.593 60.7885C108.68 61.7168 105.247 64.0364 102.947 67.3068C100.647 70.5773 99.6393 74.5707 100.115 78.5288C100.591 82.4869 102.518 86.1339 105.529 88.7774C108.54 91.4209 112.427 92.8766 116.45 92.8682C117.539 92.8682 118.582 92.4399 119.352 91.6774C120.122 90.9149 120.554 89.8807 120.554 88.8024C120.554 87.724 120.122 86.6899 119.352 85.9274C118.582 85.1649 117.539 84.7365 116.45 84.7365C114.273 84.7365 112.186 83.8798 110.646 82.3548C109.107 80.8298 108.242 78.7614 108.242 76.6047C108.242 74.4481 109.107 72.3797 110.646 70.8547C112.186 69.3297 114.273 68.473 116.45 68.473C117.539 68.473 118.582 68.0446 119.352 67.2821C120.122 66.5196 120.554 65.4854 120.554 64.4071C120.565 59.5983 122.295 54.9489 125.439 51.2848C128.582 47.6208 132.935 45.1794 137.724 44.3943C142.512 43.6093 147.427 44.5315 151.594 46.9971C155.761 49.4626 158.911 53.3119 160.485 57.861C160.719 58.5597 161.141 59.1822 161.705 59.662C162.269 60.1417 162.953 60.4608 163.686 60.5852C166.419 61.097 168.897 62.5108 170.716 64.5963C172.535 66.6818 173.587 69.3161 173.701 72.0698C173.815 74.8236 172.985 77.5345 171.345 79.7608C169.705 81.9871 167.353 83.5976 164.671 84.3299C163.615 84.5995 162.711 85.2736 162.157 86.2038C161.602 87.134 161.444 88.2443 161.716 89.2903C161.988 90.3363 162.669 91.2323 163.607 91.7813C164.546 92.3303 165.667 92.4873 166.723 92.2177C171.042 91.087 174.87 88.5909 177.627 85.1084C180.384 81.6259 181.918 77.3472 181.997 72.9221C182.076 68.4971 180.695 64.1674 178.064 60.5906C175.433 57.0137 171.696 54.3851 167.42 53.104ZM143.987 61.5203C143.597 61.1502 143.137 60.86 142.633 60.6665C141.634 60.2598 140.513 60.2598 139.514 60.6665C139.01 60.86 138.55 61.1502 138.16 61.5203L125.848 73.718C125.075 74.4836 124.641 75.522 124.641 76.6047C124.641 77.6875 125.075 78.7259 125.848 79.4915C126.621 80.2571 127.669 80.6872 128.762 80.6872C129.855 80.6872 130.903 80.2571 131.676 79.4915L136.97 74.2059V96.9341C136.97 98.0125 137.402 99.0466 138.172 99.8091C138.941 100.572 139.985 101 141.073 101C142.162 101 143.206 100.572 143.975 99.8091C144.745 99.0466 145.177 98.0125 145.177 96.9341V74.2059L150.471 79.4915C150.853 79.8726 151.307 80.1751 151.807 80.3815C152.307 80.5879 152.843 80.6942 153.385 80.6942C153.927 80.6942 154.463 80.5879 154.963 80.3815C155.464 80.1751 155.917 79.8726 156.299 79.4915C156.684 79.1135 156.989 78.6638 157.197 78.1684C157.406 77.6729 157.513 77.1415 157.513 76.6047C157.513 76.068 157.406 75.5366 157.197 75.0411C156.989 74.5456 156.684 74.0959 156.299 73.718L143.987 61.5203Z" fill="#97C15B"/>
                                    </svg>
                                </div>
                                <div className={cl.loadButtonDisbl__wrapper}>
                                    <div className={cl.loadButtonDisbl}>Загрузить</div>
                                </div>
                            </>
                            :
                            <>
                                <div className={cl.notLoad} onClick={()=>{setLoading(2)}}>
                                    <svg width="282" height="139" viewBox="0 0 282 139" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="1.5" y="1.5" width="279" height="136" rx="28.5" fill="#EFEFEF" stroke="#97C15B" stroke-width="3" stroke-dasharray="35 35"/>
                                        <path d="M70.8864 99.4H72.8064V110H70.8864V99.4ZM71.8464 97.36C71.4731 97.36 71.1597 97.24 70.9064 97C70.6664 96.76 70.5464 96.4667 70.5464 96.12C70.5464 95.7733 70.6664 95.48 70.9064 95.24C71.1597 94.9867 71.4731 94.86 71.8464 94.86C72.2197 94.86 72.5264 94.98 72.7664 95.22C73.0197 95.4467 73.1464 95.7333 73.1464 96.08C73.1464 96.44 73.0197 96.7467 72.7664 97C72.5264 97.24 72.2197 97.36 71.8464 97.36ZM89.7323 99.3C91.0657 99.3 92.119 99.6867 92.8923 100.46C93.679 101.233 94.0723 102.38 94.0723 103.9V110H92.1523V104.12C92.1523 103.093 91.9123 102.32 91.4323 101.8C90.9657 101.28 90.2923 101.02 89.4123 101.02C88.439 101.02 87.6657 101.327 87.0923 101.94C86.519 102.54 86.2323 103.407 86.2323 104.54V110H84.3123V104.12C84.3123 103.093 84.0723 102.32 83.5923 101.8C83.1257 101.28 82.4523 101.02 81.5723 101.02C80.599 101.02 79.8257 101.327 79.2523 101.94C78.679 102.54 78.3923 103.407 78.3923 104.54V110H76.4723V99.4H78.3123V100.98C78.699 100.433 79.2057 100.02 79.8323 99.74C80.459 99.4467 81.1723 99.3 81.9723 99.3C82.799 99.3 83.5323 99.4667 84.1723 99.8C84.8123 100.133 85.3057 100.62 85.6523 101.26C86.0523 100.647 86.6057 100.167 87.3123 99.82C88.0323 99.4733 88.839 99.3 89.7323 99.3ZM107.804 99.4V108.56C107.804 110.413 107.344 111.78 106.424 112.66C105.504 113.553 104.13 114 102.304 114C101.304 114 100.35 113.86 99.4438 113.58C98.5371 113.313 97.8038 112.927 97.2438 112.42L98.1638 110.94C98.6571 111.367 99.2638 111.7 99.9838 111.94C100.717 112.193 101.47 112.32 102.244 112.32C103.484 112.32 104.397 112.027 104.984 111.44C105.584 110.853 105.884 109.96 105.884 108.76V107.92C105.43 108.467 104.87 108.88 104.204 109.16C103.55 109.427 102.837 109.56 102.064 109.56C101.05 109.56 100.13 109.347 99.3038 108.92C98.4904 108.48 97.8504 107.873 97.3838 107.1C96.9171 106.313 96.6838 105.42 96.6838 104.42C96.6838 103.42 96.9171 102.533 97.3838 101.76C97.8504 100.973 98.4904 100.367 99.3038 99.94C100.13 99.5133 101.05 99.3 102.064 99.3C102.864 99.3 103.604 99.4467 104.284 99.74C104.977 100.033 105.544 100.467 105.984 101.04V99.4H107.804ZM102.284 107.88C102.977 107.88 103.597 107.733 104.144 107.44C104.704 107.147 105.137 106.74 105.444 106.22C105.764 105.687 105.924 105.087 105.924 104.42C105.924 103.393 105.584 102.567 104.904 101.94C104.224 101.3 103.35 100.98 102.284 100.98C101.204 100.98 100.324 101.3 99.6438 101.94C98.9638 102.567 98.6238 103.393 98.6238 104.42C98.6238 105.087 98.7771 105.687 99.0838 106.22C99.4038 106.74 99.8371 107.147 100.384 107.44C100.944 107.733 101.577 107.88 102.284 107.88ZM122.792 106.56H120.132V110H118.192V106.56H110.412V105.16L117.572 96H119.732L112.872 104.84H118.252V101.8H120.132V104.84H122.792V106.56ZM129.711 110.16C128.605 110.16 127.618 109.88 126.751 109.32C125.898 108.747 125.225 107.92 124.731 106.84C124.238 105.76 123.991 104.48 123.991 103C123.991 101.52 124.238 100.24 124.731 99.16C125.225 98.08 125.898 97.26 126.751 96.7C127.618 96.1267 128.605 95.84 129.711 95.84C130.805 95.84 131.778 96.1267 132.631 96.7C133.498 97.26 134.178 98.08 134.671 99.16C135.165 100.24 135.411 101.52 135.411 103C135.411 104.48 135.165 105.76 134.671 106.84C134.178 107.92 133.498 108.747 132.631 109.32C131.778 109.88 130.805 110.16 129.711 110.16ZM129.711 108.38C130.831 108.38 131.725 107.92 132.391 107C133.071 106.08 133.411 104.747 133.411 103C133.411 101.253 133.071 99.92 132.391 99C131.725 98.08 130.831 97.62 129.711 97.62C128.578 97.62 127.671 98.08 126.991 99C126.325 99.92 125.991 101.253 125.991 103C125.991 104.747 126.325 106.08 126.991 107C127.671 107.92 128.578 108.38 129.711 108.38ZM147.113 108.26V110H137.053V108.64L142.753 103.14C143.446 102.473 143.913 101.9 144.153 101.42C144.393 100.927 144.513 100.433 144.513 99.94C144.513 99.2067 144.253 98.64 143.733 98.24C143.226 97.8267 142.493 97.62 141.533 97.62C139.986 97.62 138.793 98.1267 137.953 99.14L136.593 97.96C137.139 97.2933 137.853 96.7733 138.733 96.4C139.626 96.0267 140.619 95.84 141.713 95.84C143.179 95.84 144.346 96.1933 145.213 96.9C146.079 97.5933 146.513 98.54 146.513 99.74C146.513 100.487 146.353 101.193 146.033 101.86C145.713 102.527 145.106 103.287 144.213 104.14L139.933 108.26H147.113ZM158.898 96V97.36L153.238 110H151.118L156.658 97.74H150.258V100.24H148.338V96H158.898ZM165.187 96V110H163.207V97.74H160.047V96H165.187ZM169.569 110.12C169.196 110.12 168.876 109.993 168.609 109.74C168.342 109.473 168.209 109.14 168.209 108.74C168.209 108.353 168.342 108.033 168.609 107.78C168.876 107.513 169.196 107.38 169.569 107.38C169.942 107.38 170.256 107.507 170.509 107.76C170.762 108.013 170.889 108.34 170.889 108.74C170.889 109.14 170.756 109.473 170.489 109.74C170.236 109.993 169.929 110.12 169.569 110.12ZM179.26 99.3C180.287 99.3 181.207 99.5267 182.02 99.98C182.834 100.433 183.467 101.067 183.92 101.88C184.387 102.693 184.62 103.633 184.62 104.7C184.62 105.767 184.387 106.713 183.92 107.54C183.467 108.353 182.834 108.987 182.02 109.44C181.207 109.893 180.287 110.12 179.26 110.12C178.5 110.12 177.8 109.973 177.16 109.68C176.534 109.387 176 108.96 175.56 108.4V113.88H173.64V99.4H175.48V101.08C175.907 100.493 176.447 100.053 177.1 99.76C177.754 99.4533 178.474 99.3 179.26 99.3ZM179.1 108.44C179.78 108.44 180.387 108.287 180.92 107.98C181.467 107.66 181.894 107.22 182.2 106.66C182.52 106.087 182.68 105.433 182.68 104.7C182.68 103.967 182.52 103.32 182.2 102.76C181.894 102.187 181.467 101.747 180.92 101.44C180.387 101.133 179.78 100.98 179.1 100.98C178.434 100.98 177.827 101.14 177.28 101.46C176.747 101.767 176.32 102.2 176 102.76C175.694 103.32 175.54 103.967 175.54 104.7C175.54 105.433 175.694 106.087 176 106.66C176.307 107.22 176.734 107.66 177.28 107.98C177.827 108.287 178.434 108.44 179.1 108.44ZM192.933 99.3C194.28 99.3 195.346 99.6933 196.133 100.48C196.933 101.253 197.333 102.393 197.333 103.9V110H195.413V104.12C195.413 103.093 195.166 102.32 194.673 101.8C194.18 101.28 193.473 101.02 192.553 101.02C191.513 101.02 190.693 101.327 190.093 101.94C189.493 102.54 189.193 103.407 189.193 104.54V110H187.273V99.4H189.113V101C189.5 100.453 190.02 100.033 190.673 99.74C191.34 99.4467 192.093 99.3 192.933 99.3ZM211.085 99.4V108.56C211.085 110.413 210.625 111.78 209.705 112.66C208.785 113.553 207.412 114 205.585 114C204.585 114 203.632 113.86 202.725 113.58C201.818 113.313 201.085 112.927 200.525 112.42L201.445 110.94C201.938 111.367 202.545 111.7 203.265 111.94C203.998 112.193 204.752 112.32 205.525 112.32C206.765 112.32 207.678 112.027 208.265 111.44C208.865 110.853 209.165 109.96 209.165 108.76V107.92C208.712 108.467 208.152 108.88 207.485 109.16C206.832 109.427 206.118 109.56 205.345 109.56C204.332 109.56 203.412 109.347 202.585 108.92C201.772 108.48 201.132 107.873 200.665 107.1C200.198 106.313 199.965 105.42 199.965 104.42C199.965 103.42 200.198 102.533 200.665 101.76C201.132 100.973 201.772 100.367 202.585 99.94C203.412 99.5133 204.332 99.3 205.345 99.3C206.145 99.3 206.885 99.4467 207.565 99.74C208.258 100.033 208.825 100.467 209.265 101.04V99.4H211.085ZM205.565 107.88C206.258 107.88 206.878 107.733 207.425 107.44C207.985 107.147 208.418 106.74 208.725 106.22C209.045 105.687 209.205 105.087 209.205 104.42C209.205 103.393 208.865 102.567 208.185 101.94C207.505 101.3 206.632 100.98 205.565 100.98C204.485 100.98 203.605 101.3 202.925 101.94C202.245 102.567 201.905 103.393 201.905 104.42C201.905 105.087 202.058 105.687 202.365 106.22C202.685 106.74 203.118 107.147 203.665 107.44C204.225 107.733 204.858 107.88 205.565 107.88Z" fill="#828282"/>
                                        <path d="M133.001 63.7018L119.008 49.3887L113 55.5356L133.001 76L170 38.1469L163.991 32L133.001 63.7018Z" fill="#97C15B"/>
                                    </svg>
                                </div>
                                <div className={cl.loadButtonDisbl__wrapper}>
                                    <div className={cl.loadButtonActive}  onClick={()=>setVisible(false)}>Загрузить</div>
                                </div>
                            </>
                    }


                    <div className={cl.titleImg} onClick={()=>setVisible(false)}>
                        <img src={close} alt=""/>
                    </div>
                </div>
                {children}
            </div>
        </div>
    );
};

export default MyAddModal;